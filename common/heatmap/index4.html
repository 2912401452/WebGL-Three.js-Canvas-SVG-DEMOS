<!DOCTYPE html>
 <html>
 <head>
     <meta charset="UTF-8">
     <title></title>
     <style>
    </style>
 </head>
 <body>
     <div style="height: 300px; width: 600px; border: 1px solid;" id="heatmap"></div>
 </body>
<script src="./heatmap.js"></script>
<script type="text/javascript">
    var wrap = document.querySelector('#heatmap')//createElement('div')
    wrap.style.width = '600px'
    wrap.style.height = '300px'
    var heatmapInstance = h337.create({
        container: wrap,
        backgroundColor:'blue',    // '#121212'    'rgba(0,102,256,0.2)'
        gradient: {
            '0.5': 'blue',
            '0.8': 'red',
            '0.95': 'white',
            '0.6':'yellow',
            '0.5':'green'
        },
        radius: 10,        // [0,+∞)
        opacity:0.8,
    })
    
    var points = []
    var max = 0
    var width = 600
    var height = 300
    var len = 200;
    while (len--) {
        var val = Math.floor(Math.random()*100)
        max = Math.max(max, val)
        var point = {
            x: Math.floor(Math.random()*width),
            y: Math.floor(Math.random()*height),
            value: val
        }
        points.push(point)
    }
    var data = {
        max: max,
        data: points
    };
    //因为data是一组数据,web切图报价所以直接setData
    heatmapInstance.setData(data); //数据绑定还可以使用
    console.log(wrap.childNodes[0].getContext('2d').getImageData(0,0,100,100))
 </script>
 </html>